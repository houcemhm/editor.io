{"ast":null,"code":"// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function (mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\")\n    // CommonJS\n    mod(require(\"../../lib/codemirror\"), require(\"../fold/xml-fold\"));else if (typeof define == \"function\" && define.amd)\n    // AMD\n    define([\"../../lib/codemirror\", \"../fold/xml-fold\"], mod);else\n    // Plain browser env\n    mod(CodeMirror);\n})(function (CodeMirror) {\n  \"use strict\";\n\n  CodeMirror.defineOption(\"matchTags\", false, function (cm, val, old) {\n    if (old && old != CodeMirror.Init) {\n      cm.off(\"cursorActivity\", doMatchTags);\n      cm.off(\"viewportChange\", maybeUpdateMatch);\n      clear(cm);\n    }\n    if (val) {\n      cm.state.matchBothTags = typeof val == \"object\" && val.bothTags;\n      cm.on(\"cursorActivity\", doMatchTags);\n      cm.on(\"viewportChange\", maybeUpdateMatch);\n      doMatchTags(cm);\n    }\n  });\n  function clear(cm) {\n    if (cm.state.tagHit) cm.state.tagHit.clear();\n    if (cm.state.tagOther) cm.state.tagOther.clear();\n    cm.state.tagHit = cm.state.tagOther = null;\n  }\n  function doMatchTags(cm) {\n    cm.state.failedTagMatch = false;\n    cm.operation(function () {\n      clear(cm);\n      if (cm.somethingSelected()) return;\n      var cur = cm.getCursor(),\n        range = cm.getViewport();\n      range.from = Math.min(range.from, cur.line);\n      range.to = Math.max(cur.line + 1, range.to);\n      var match = CodeMirror.findMatchingTag(cm, cur, range);\n      if (!match) return;\n      if (cm.state.matchBothTags) {\n        var hit = match.at == \"open\" ? match.open : match.close;\n        if (hit) cm.state.tagHit = cm.markText(hit.from, hit.to, {\n          className: \"CodeMirror-matchingtag\"\n        });\n      }\n      var other = match.at == \"close\" ? match.open : match.close;\n      if (other) cm.state.tagOther = cm.markText(other.from, other.to, {\n        className: \"CodeMirror-matchingtag\"\n      });else cm.state.failedTagMatch = true;\n    });\n  }\n  function maybeUpdateMatch(cm) {\n    if (cm.state.failedTagMatch) doMatchTags(cm);\n  }\n  CodeMirror.commands.toMatchingTag = function (cm) {\n    var found = CodeMirror.findMatchingTag(cm, cm.getCursor());\n    if (found) {\n      var other = found.at == \"close\" ? found.open : found.close;\n      if (other) cm.extendSelection(other.to, other.from);\n    }\n  };\n});","map":{"version":3,"names":["mod","exports","module","require","define","amd","CodeMirror","defineOption","cm","val","old","Init","off","doMatchTags","maybeUpdateMatch","clear","state","matchBothTags","bothTags","on","tagHit","tagOther","failedTagMatch","operation","somethingSelected","cur","getCursor","range","getViewport","from","Math","min","line","to","max","match","findMatchingTag","hit","at","open","close","markText","className","other","commands","toMatchingTag","found","extendSelection"],"sources":["D:/github/editor.io/node_modules/codemirror/addon/edit/matchtags.js"],"sourcesContent":["// CodeMirror, copyright (c) by Marijn Haverbeke and others\r\n// Distributed under an MIT license: https://codemirror.net/LICENSE\r\n\r\n(function(mod) {\r\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\r\n    mod(require(\"../../lib/codemirror\"), require(\"../fold/xml-fold\"));\r\n  else if (typeof define == \"function\" && define.amd) // AMD\r\n    define([\"../../lib/codemirror\", \"../fold/xml-fold\"], mod);\r\n  else // Plain browser env\r\n    mod(CodeMirror);\r\n})(function(CodeMirror) {\r\n  \"use strict\";\r\n\r\n  CodeMirror.defineOption(\"matchTags\", false, function(cm, val, old) {\r\n    if (old && old != CodeMirror.Init) {\r\n      cm.off(\"cursorActivity\", doMatchTags);\r\n      cm.off(\"viewportChange\", maybeUpdateMatch);\r\n      clear(cm);\r\n    }\r\n    if (val) {\r\n      cm.state.matchBothTags = typeof val == \"object\" && val.bothTags;\r\n      cm.on(\"cursorActivity\", doMatchTags);\r\n      cm.on(\"viewportChange\", maybeUpdateMatch);\r\n      doMatchTags(cm);\r\n    }\r\n  });\r\n\r\n  function clear(cm) {\r\n    if (cm.state.tagHit) cm.state.tagHit.clear();\r\n    if (cm.state.tagOther) cm.state.tagOther.clear();\r\n    cm.state.tagHit = cm.state.tagOther = null;\r\n  }\r\n\r\n  function doMatchTags(cm) {\r\n    cm.state.failedTagMatch = false;\r\n    cm.operation(function() {\r\n      clear(cm);\r\n      if (cm.somethingSelected()) return;\r\n      var cur = cm.getCursor(), range = cm.getViewport();\r\n      range.from = Math.min(range.from, cur.line); range.to = Math.max(cur.line + 1, range.to);\r\n      var match = CodeMirror.findMatchingTag(cm, cur, range);\r\n      if (!match) return;\r\n      if (cm.state.matchBothTags) {\r\n        var hit = match.at == \"open\" ? match.open : match.close;\r\n        if (hit) cm.state.tagHit = cm.markText(hit.from, hit.to, {className: \"CodeMirror-matchingtag\"});\r\n      }\r\n      var other = match.at == \"close\" ? match.open : match.close;\r\n      if (other)\r\n        cm.state.tagOther = cm.markText(other.from, other.to, {className: \"CodeMirror-matchingtag\"});\r\n      else\r\n        cm.state.failedTagMatch = true;\r\n    });\r\n  }\r\n\r\n  function maybeUpdateMatch(cm) {\r\n    if (cm.state.failedTagMatch) doMatchTags(cm);\r\n  }\r\n\r\n  CodeMirror.commands.toMatchingTag = function(cm) {\r\n    var found = CodeMirror.findMatchingTag(cm, cm.getCursor());\r\n    if (found) {\r\n      var other = found.at == \"close\" ? found.open : found.close;\r\n      if (other) cm.extendSelection(other.to, other.from);\r\n    }\r\n  };\r\n});\r\n"],"mappings":"AAAA;AACA;;AAEA,CAAC,UAASA,GAAG,EAAE;EACb,IAAI,OAAOC,OAAO,IAAI,QAAQ,IAAI,OAAOC,MAAM,IAAI,QAAQ;IAAE;IAC3DF,GAAG,CAACG,OAAO,CAAC,sBAAsB,CAAC,EAAEA,OAAO,CAAC,kBAAkB,CAAC,CAAC,CAAC,KAC/D,IAAI,OAAOC,MAAM,IAAI,UAAU,IAAIA,MAAM,CAACC,GAAG;IAAE;IAClDD,MAAM,CAAC,CAAC,sBAAsB,EAAE,kBAAkB,CAAC,EAAEJ,GAAG,CAAC,CAAC;IACvD;IACHA,GAAG,CAACM,UAAU,CAAC;AACnB,CAAC,EAAE,UAASA,UAAU,EAAE;EACtB,YAAY;;EAEZA,UAAU,CAACC,YAAY,CAAC,WAAW,EAAE,KAAK,EAAE,UAASC,EAAE,EAAEC,GAAG,EAAEC,GAAG,EAAE;IACjE,IAAIA,GAAG,IAAIA,GAAG,IAAIJ,UAAU,CAACK,IAAI,EAAE;MACjCH,EAAE,CAACI,GAAG,CAAC,gBAAgB,EAAEC,WAAW,CAAC;MACrCL,EAAE,CAACI,GAAG,CAAC,gBAAgB,EAAEE,gBAAgB,CAAC;MAC1CC,KAAK,CAACP,EAAE,CAAC;IACX;IACA,IAAIC,GAAG,EAAE;MACPD,EAAE,CAACQ,KAAK,CAACC,aAAa,GAAG,OAAOR,GAAG,IAAI,QAAQ,IAAIA,GAAG,CAACS,QAAQ;MAC/DV,EAAE,CAACW,EAAE,CAAC,gBAAgB,EAAEN,WAAW,CAAC;MACpCL,EAAE,CAACW,EAAE,CAAC,gBAAgB,EAAEL,gBAAgB,CAAC;MACzCD,WAAW,CAACL,EAAE,CAAC;IACjB;EACF,CAAC,CAAC;EAEF,SAASO,KAAK,CAACP,EAAE,EAAE;IACjB,IAAIA,EAAE,CAACQ,KAAK,CAACI,MAAM,EAAEZ,EAAE,CAACQ,KAAK,CAACI,MAAM,CAACL,KAAK,EAAE;IAC5C,IAAIP,EAAE,CAACQ,KAAK,CAACK,QAAQ,EAAEb,EAAE,CAACQ,KAAK,CAACK,QAAQ,CAACN,KAAK,EAAE;IAChDP,EAAE,CAACQ,KAAK,CAACI,MAAM,GAAGZ,EAAE,CAACQ,KAAK,CAACK,QAAQ,GAAG,IAAI;EAC5C;EAEA,SAASR,WAAW,CAACL,EAAE,EAAE;IACvBA,EAAE,CAACQ,KAAK,CAACM,cAAc,GAAG,KAAK;IAC/Bd,EAAE,CAACe,SAAS,CAAC,YAAW;MACtBR,KAAK,CAACP,EAAE,CAAC;MACT,IAAIA,EAAE,CAACgB,iBAAiB,EAAE,EAAE;MAC5B,IAAIC,GAAG,GAAGjB,EAAE,CAACkB,SAAS,EAAE;QAAEC,KAAK,GAAGnB,EAAE,CAACoB,WAAW,EAAE;MAClDD,KAAK,CAACE,IAAI,GAAGC,IAAI,CAACC,GAAG,CAACJ,KAAK,CAACE,IAAI,EAAEJ,GAAG,CAACO,IAAI,CAAC;MAAEL,KAAK,CAACM,EAAE,GAAGH,IAAI,CAACI,GAAG,CAACT,GAAG,CAACO,IAAI,GAAG,CAAC,EAAEL,KAAK,CAACM,EAAE,CAAC;MACxF,IAAIE,KAAK,GAAG7B,UAAU,CAAC8B,eAAe,CAAC5B,EAAE,EAAEiB,GAAG,EAAEE,KAAK,CAAC;MACtD,IAAI,CAACQ,KAAK,EAAE;MACZ,IAAI3B,EAAE,CAACQ,KAAK,CAACC,aAAa,EAAE;QAC1B,IAAIoB,GAAG,GAAGF,KAAK,CAACG,EAAE,IAAI,MAAM,GAAGH,KAAK,CAACI,IAAI,GAAGJ,KAAK,CAACK,KAAK;QACvD,IAAIH,GAAG,EAAE7B,EAAE,CAACQ,KAAK,CAACI,MAAM,GAAGZ,EAAE,CAACiC,QAAQ,CAACJ,GAAG,CAACR,IAAI,EAAEQ,GAAG,CAACJ,EAAE,EAAE;UAACS,SAAS,EAAE;QAAwB,CAAC,CAAC;MACjG;MACA,IAAIC,KAAK,GAAGR,KAAK,CAACG,EAAE,IAAI,OAAO,GAAGH,KAAK,CAACI,IAAI,GAAGJ,KAAK,CAACK,KAAK;MAC1D,IAAIG,KAAK,EACPnC,EAAE,CAACQ,KAAK,CAACK,QAAQ,GAAGb,EAAE,CAACiC,QAAQ,CAACE,KAAK,CAACd,IAAI,EAAEc,KAAK,CAACV,EAAE,EAAE;QAACS,SAAS,EAAE;MAAwB,CAAC,CAAC,CAAC,KAE7FlC,EAAE,CAACQ,KAAK,CAACM,cAAc,GAAG,IAAI;IAClC,CAAC,CAAC;EACJ;EAEA,SAASR,gBAAgB,CAACN,EAAE,EAAE;IAC5B,IAAIA,EAAE,CAACQ,KAAK,CAACM,cAAc,EAAET,WAAW,CAACL,EAAE,CAAC;EAC9C;EAEAF,UAAU,CAACsC,QAAQ,CAACC,aAAa,GAAG,UAASrC,EAAE,EAAE;IAC/C,IAAIsC,KAAK,GAAGxC,UAAU,CAAC8B,eAAe,CAAC5B,EAAE,EAAEA,EAAE,CAACkB,SAAS,EAAE,CAAC;IAC1D,IAAIoB,KAAK,EAAE;MACT,IAAIH,KAAK,GAAGG,KAAK,CAACR,EAAE,IAAI,OAAO,GAAGQ,KAAK,CAACP,IAAI,GAAGO,KAAK,CAACN,KAAK;MAC1D,IAAIG,KAAK,EAAEnC,EAAE,CAACuC,eAAe,CAACJ,KAAK,CAACV,EAAE,EAAEU,KAAK,CAACd,IAAI,CAAC;IACrD;EACF,CAAC;AACH,CAAC,CAAC"},"metadata":{},"sourceType":"script","externalDependencies":[]}